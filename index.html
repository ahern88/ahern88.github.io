<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

    
    <title>ahern88的技术小站</title>

    <meta name="description" content="ahern88的技术小站">
    <meta name="keywords" content="JAVA,架构,微服务,分布式,足球,C罗">

    



    <meta property="og:type" content="website"/>
    <meta property="og:title" content=""/>
    <meta property="og:description" content=""/>
    <meta property="og:locale" content="cn" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://ahern88.github.io/index.html" />
    <meta property="og:site_name" content="ahern88" />
    <meta property="article:publisher" content="" />
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebPage",
            "name": "",
            "description": "",
            "publisher": {
                "@type": "Organization",
                "name": "ahern88"
            },
        }
    </script>


    

    
    <meta property="algolia:search" data-application-id="J3Z27P68M3" data-api-key="4eaf4c93378e153e99394f6d0baecf21" data-index-name="post_index">
    

    

    

    

    

    

    
<link rel="stylesheet" href="/dist/build.css?v=1646451311888.css">


    
<link rel="stylesheet" href="/dist/custom.css?v=1646451311888.css">


    <script>
        window.isPost = false
        window.aomori = {
            
            
            
        }
        window.aomori_logo_typed_animated = true
        window.aomori_search_algolia = true

    </script>

<meta name="generator" content="Hexo 6.1.0"></head>

<body>

    <div class="container">
    <header class="header">
        <div class="header-type">
            
            <div class="header-type-inner">
                
                    <div id="typed-strings" style="display:none">
                        <p>ahern88的技术小站</p>
                    </div>
                    <a class="header-type-title" id="typed" href="/"></a>
                
    
                
            </div>
        </div>
        <div class="header-menu">
            <div class="header-menu-inner">
                
                <a href="/">首页</a>
                
                <a href="/archives">文章</a>
                
                <a href="/aboutme">关于我</a>
                
            </div>
            <div class="header-menu-social">
                
            </div>
        </div>

        <div class="header-menu-mobile">
            <div class="header-menu-mobile-inner" id="mobile-menu-open">
                <i class="icon icon-menu"></i>
            </div>
        </div>
    </header>

    <div class="header-menu-mobile-menu">
        <div class="header-menu-mobile-menu-bg"></div>
        <div class="header-menu-mobile-menu-wrap">
            <div class="header-menu-mobile-menu-inner">
                <div class="header-menu-mobile-menu-close" id="mobile-menu-close">
                    <i class="icon icon-cross"></i>
                </div>
                <div class="header-menu-mobile-menu-list">
                    
                    <a href="/">首页</a>
                    
                    <a href="/archives">文章</a>
                    
                    <a href="/aboutme">关于我</a>
                    
                </div>
            </div>
        </div>
    </div>

</div>

    <div class="container">
        <div class="main">
            <section class="inner">
                <section class="inner-main">
                    <div class="index">
  
    
      <article
id="post-run-gdb-on-macos"
class="article article-type-post"
>



<div class="article-inner">
    

    <div class="article-body">
    <header class="article-title">
        <a href="/2022/04/09/run-gdb-on-macos/">在MacOS上使用GDB调试C程序</a>
    </header>
    <div class="article-entry post-inner-html">
        
        <h2 id="编写C程序"><a href="#编写C程序" class="headerlink" title="编写C程序"></a>编写C程序</h2><p>编写一段简单的C程序 main.c ，并做好验证</p>
<pre class="language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"hello world\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  i <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>

<p>编译（保证机器上有装gcc，若没有装可以采用 brew install gcc 完成安装），并执行</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ gcc -g main.c -o main.o
$ ./main.o
hello world
<span class="token number">1</span></code></pre>

<h2 id="如何调试"><a href="#如何调试" class="headerlink" title="如何调试"></a>如何调试</h2><h3 id="先安装GDB"><a href="#先安装GDB" class="headerlink" title="先安装GDB"></a>先安装GDB</h3><pre class="language-bash" data-language="bash"><code class="language-bash">$ brew <span class="token function">install</span> gdb</code></pre>

<p>完成安装后，执行gdb看是否输出正常</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ gdb
GNU gdb <span class="token punctuation">(</span>GDB<span class="token punctuation">)</span> <span class="token number">11.2</span>
Copyright <span class="token punctuation">(</span>C<span class="token punctuation">)</span> <span class="token number">2022</span> Free Software Foundation, Inc.
License GPLv3+: GNU GPL version <span class="token number">3</span> or later <span class="token operator">&lt;</span>http://gnu.org/licenses/gpl.html<span class="token operator">></span>
This is <span class="token function">free</span> software: you are <span class="token function">free</span> to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
Type <span class="token string">"show copying"</span> and <span class="token string">"show warranty"</span> <span class="token keyword">for</span> details.
This GDB was configured as <span class="token string">"x86_64-apple-darwin21.1.0"</span><span class="token builtin class-name">.</span>
Type <span class="token string">"show configuration"</span> <span class="token keyword">for</span> configuration details.
For bug reporting instructions, please see:
<span class="token operator">&lt;</span>https://www.gnu.org/software/gdb/bugs/<span class="token operator">></span>.
Find the GDB manual and other documentation resources online at:
    <span class="token operator">&lt;</span>http://www.gnu.org/software/gdb/documentation/<span class="token operator">></span>.

For help, <span class="token builtin class-name">type</span> <span class="token string">"help"</span><span class="token builtin class-name">.</span>
Type <span class="token string">"apropos word"</span> to search <span class="token keyword">for</span> commands related to <span class="token string">"word"</span><span class="token builtin class-name">.</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> </code></pre>

<h3 id="开始调试"><a href="#开始调试" class="headerlink" title="开始调试"></a>开始调试</h3><p>在c程序的目录下，执行如下命令进入gdb调试界面</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">sudo</span> gdb main.o
GNU gdb <span class="token punctuation">(</span>GDB<span class="token punctuation">)</span> <span class="token number">11.2</span>
Copyright <span class="token punctuation">(</span>C<span class="token punctuation">)</span> <span class="token number">2022</span> Free Software Foundation, Inc.
License GPLv3+: GNU GPL version <span class="token number">3</span> or later <span class="token operator">&lt;</span>http://gnu.org/licenses/gpl.html<span class="token operator">></span>
This is <span class="token function">free</span> software: you are <span class="token function">free</span> to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
Type <span class="token string">"show copying"</span> and <span class="token string">"show warranty"</span> <span class="token keyword">for</span> details.
This GDB was configured as <span class="token string">"x86_64-apple-darwin21.1.0"</span><span class="token builtin class-name">.</span>
Type <span class="token string">"show configuration"</span> <span class="token keyword">for</span> configuration details.
For bug reporting instructions, please see:
<span class="token operator">&lt;</span>https://www.gnu.org/software/gdb/bugs/<span class="token operator">></span>.
Find the GDB manual and other documentation resources online at:
    <span class="token operator">&lt;</span>http://www.gnu.org/software/gdb/documentation/<span class="token operator">></span>.

For help, <span class="token builtin class-name">type</span> <span class="token string">"help"</span><span class="token builtin class-name">.</span>
Type <span class="token string">"apropos word"</span> to search <span class="token keyword">for</span> commands related to <span class="token string">"word"</span><span class="token punctuation">..</span>.
Reading symbols from main.o<span class="token punctuation">..</span>.
Reading symbols from /Users/ahern88/cCodes/main.o.dSYM/Contents/Resources/DWARF/main.o<span class="token punctuation">..</span>.
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> l <span class="token comment"># 通过 l 命令查看代码</span>
<span class="token number">1</span>	<span class="token comment">#include &lt;stdio.h></span>
<span class="token number">2</span>	
<span class="token number">3</span>	
<span class="token number">4</span>	int <span class="token function-name function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
<span class="token number">5</span>	 int i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token number">6</span>	 printf<span class="token punctuation">(</span><span class="token string">"hello world<span class="token entity" title="\n">\n</span>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">7</span>	 i <span class="token operator">=</span> i + <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token number">8</span>	 printf<span class="token punctuation">(</span><span class="token string">"%d<span class="token entity" title="\n">\n</span>"</span>, i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">9</span>	<span class="token punctuation">&#125;</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> layout src <span class="token comment"># 通过layout查看main.c的代码布局</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> b <span class="token number">5</span> <span class="token comment"># 在第5行代码插入断点，这样在layout模式下能看到 B+ 的状态，代表断点位置</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> run <span class="token comment"># 开始运行程序, 这里执行可以hang住，后面有解决办法</span>
Starting program: /Users/ahern88/cCodes/main.o 
<span class="token punctuation">[</span>New Thread 0x1603 of process <span class="token number">64447</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span>New Thread 0x1903 of process <span class="token number">64447</span><span class="token punctuation">]</span>
warning: unhandled dyld version <span class="token punctuation">(</span><span class="token number">17</span><span class="token punctuation">)</span>

Thread <span class="token number">2</span> hit Breakpoint <span class="token number">1</span>, main <span class="token punctuation">(</span><span class="token punctuation">)</span> at main.c:5
<span class="token number">5</span>	 int i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> info <span class="token builtin class-name">break</span> <span class="token comment"># 查看当前断点的信息</span>
Num     Type           Disp Enb Address            What
<span class="token number">1</span>       breakpoint     keep y   0x0000000100003f48 <span class="token keyword">in</span> main at main.c:5
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> next <span class="token comment"># 单步执行</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> <span class="token builtin class-name">continue</span> <span class="token comment"># 执行到下一个break断点</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> print i <span class="token comment"># 输出当前栈中的变量i</span></code></pre>

<p>上面能完成基本的调试操作，可以尝试着自己做一做</p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>在使用gdb的过程中我遇到了几个问题</p>
<p>1）run 操作后，提示Unable to find Mach task port for process-id</p>
<p>解决办法：可能执行gdb命令的时候没有加sudo，加上sudo gdb就可以了</p>
<p>2）run 操作后，命令行hang住不返回</p>
<p>解决办法：在当前用户目录下新增 .gdbinit文件，并加入<code>set startup-with-shell off</code> </p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">touch</span> ~/.gdbinit
$ <span class="token builtin class-name">echo</span> <span class="token string">"set startup-with-shell off"</span> <span class="token operator">></span> ~/.gdbinit</code></pre>

<blockquote>
<p>记住修改完 .gdbinit 文件后一定要关闭term窗口后重新打开，不然会没有效果</p>
</blockquote>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul>
<li><p><a target="_blank" rel="noopener" href="https://github.com/Homebrew/homebrew-core/issues/49631">(gdb) 8.3.1 hangs after run command on mac Catalina #49631</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/donaldsy/article/details/106739316">MacOS Catalina下使用gdb进行调试遇到的几个问题</a></p>
</li>
</ul>

        
    </div>
    </div>

    <div class="article-badge">
        
        
    </div>

</div>

<footer class="article-footer">
    <div class="article-more-info">
    <div class="article-date">
  <time datetime="2022-04-09T01:47:03.000Z" itemprop="datePublished">2022-04-09</time>
</div>
    
        <div class="article-category">
        <a class="article-category-link" href="/categories/C%E8%AF%AD%E8%A8%80/">C语言</a>
        </div>
    
    
        <div class="article-tag">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C%E8%AF%AD%E8%A8%80/" rel="tag">C语言</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/GDB/" rel="tag">GDB</a></li></ul>
        </div>
    
    </div>
</footer>

</article>

    
  
    
      <article
id="post-git-in-depth-study"
class="article article-type-post"
>



<div class="article-inner">
    

    <div class="article-body">
    <header class="article-title">
        <a href="/2022/04/05/git-in-depth-study/">一文深入浅出学习Git工具</a>
    </header>
    <div class="article-entry post-inner-html">
        
        <blockquote>
<p>Git也许在很多人看来是一款版本控制软件，其实不然，Linus在设计Git时给它的定位并不是版本控制，而是一个包含版本控制能力的文件系统，为什么说它是一款文件系统？在了解Git的实现原理的时候你就会明白为啥它的定位是文件系统。</p>
</blockquote>
<h2 id="Git安装"><a href="#Git安装" class="headerlink" title="Git安装"></a>Git安装</h2><p>git分客户端和服务端，一般用户都为客户端安装，服务器主要用来管理远端仓库，一般用git web或gitlab安装。</p>
<p>mac安装git</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ brew <span class="token function">install</span> <span class="token function">git</span></code></pre>

<p>检查git是否安装完成</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">git</span> --version
<span class="token function">git</span> version <span class="token number">2.32</span>.0 <span class="token punctuation">(</span>Apple Git-132<span class="token punctuation">)</span></code></pre>

<h2 id="Git命令"><a href="#Git命令" class="headerlink" title="Git命令"></a>Git命令</h2><h3 id="git-init"><a href="#git-init" class="headerlink" title="git init"></a>git init</h3><p>init命令的原理很简单，其原理就是在当前目录下创建 .git 文件夹，并生成如下文件结构</p>
<pre class="language-text" data-language="text"><code class="language-text">├── HEAD
├── config
├── description
├── hooks
│   ├── applypatch-msg.sample
│   ├── commit-msg.sample
│   ├── fsmonitor-watchman.sample
│   ├── post-update.sample
│   ├── pre-applypatch.sample
│   ├── pre-commit.sample
│   ├── pre-merge-commit.sample
│   ├── pre-push.sample
│   ├── pre-rebase.sample
│   ├── pre-receive.sample
│   ├── prepare-commit-msg.sample
│   ├── push-to-checkout.sample
│   └── update.sample
├── info
│   └── exclude
├── objects
│   ├── info
│   └── pack
└── refs
    ├── heads
    └── tags</code></pre>



<h3 id="git-clone"><a href="#git-clone" class="headerlink" title="git clone"></a>git clone</h3><h3 id="git-add"><a href="#git-add" class="headerlink" title="git add"></a>git add</h3><h3 id="git-commit"><a href="#git-commit" class="headerlink" title="git commit"></a>git commit</h3><h3 id="git-fetch"><a href="#git-fetch" class="headerlink" title="git fetch"></a>git fetch</h3><h3 id="git-pull"><a href="#git-pull" class="headerlink" title="git pull"></a>git pull</h3><h3 id="git-post"><a href="#git-post" class="headerlink" title="git post"></a>git post</h3><h3 id="git-remote"><a href="#git-remote" class="headerlink" title="git remote"></a>git remote</h3><h3 id="git-branch"><a href="#git-branch" class="headerlink" title="git branch"></a>git branch</h3><h3 id="git-tag"><a href="#git-tag" class="headerlink" title="git tag"></a>git tag</h3><h3 id="git-merge"><a href="#git-merge" class="headerlink" title="git merge"></a>git merge</h3><h3 id="git-rebase"><a href="#git-rebase" class="headerlink" title="git rebase"></a>git rebase</h3><h2 id="Git底层命令"><a href="#Git底层命令" class="headerlink" title="Git底层命令"></a>Git底层命令</h2><h3 id="git-ls-files"><a href="#git-ls-files" class="headerlink" title="git ls-files"></a>git ls-files</h3><pre class="language-bash" data-language="bash"><code class="language-bash">➜  demo04 git:<span class="token punctuation">(</span>master<span class="token punctuation">)</span> ✗ <span class="token function">git</span> ls-files -s
<span class="token number">100644</span> defcc8403294ad3772ef80c7f9f0863f2e56be47 <span class="token number">1</span>	Test.java
<span class="token number">100644</span> 5c5afc55543e5d2b68c38fdd966a3cfc9234d715 <span class="token number">2</span>	Test.java
<span class="token number">100644</span> a0f09dfc6ae374ced7de33884abd2e4817d7eff9 <span class="token number">3</span>	Test.java
<span class="token number">100644</span> faa29b2a19af8a3ab5682c228aa5b2b7b7db8561 <span class="token number">0</span>	text001.txt
<span class="token number">100644</span> 92df0d24f248938ee3ab8867af2d486c58ade458 <span class="token number">0</span>	text002.txt</code></pre>

<h3 id="git-cat-file"><a href="#git-cat-file" class="headerlink" title="git cat-file"></a>git cat-file</h3><h3 id="git-hash-object"><a href="#git-hash-object" class="headerlink" title="git hash-object"></a>git hash-object</h3><h2 id="Git原理"><a href="#Git原理" class="headerlink" title="Git原理"></a>Git原理</h2><h3 id="Git对象"><a href="#Git对象" class="headerlink" title="Git对象"></a>Git对象</h3><h4 id="Blob"><a href="#Blob" class="headerlink" title="Blob"></a>Blob</h4><h4 id="Tree"><a href="#Tree" class="headerlink" title="Tree"></a>Tree</h4><h4 id="Commit"><a href="#Commit" class="headerlink" title="Commit"></a>Commit</h4><h2 id="Git扩展功能"><a href="#Git扩展功能" class="headerlink" title="Git扩展功能"></a>Git扩展功能</h2><h3 id="Submodule"><a href="#Submodule" class="headerlink" title="Submodule"></a>Submodule</h3><h3 id="LFS"><a href="#LFS" class="headerlink" title="LFS"></a>LFS</h3><h3 id="WorkTree"><a href="#WorkTree" class="headerlink" title="WorkTree"></a>WorkTree</h3><h2 id="Git源码环境搭建"><a href="#Git源码环境搭建" class="headerlink" title="Git源码环境搭建"></a>Git源码环境搭建</h2><p>安装openssl和asciidoc（非必须）</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ brew <span class="token function">install</span> openssl@3
$ <span class="token builtin class-name">export</span> <span class="token assign-left variable">OPENSSLDIR</span><span class="token operator">=</span>/usr/local/opt/openssl@3
$ <span class="token builtin class-name">cd</span> git-master
$ <span class="token function">make</span> configure
$ ./configure --prefix<span class="token operator">=</span>/opt/git
$ <span class="token function">make</span> all doc
$ <span class="token function">sudo</span> <span class="token function">make</span> <span class="token function">install</span> install-doc install-html</code></pre>



<h2 id="技巧"><a href="#技巧" class="headerlink" title="技巧"></a>技巧</h2><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul>
<li><a target="_blank" rel="noopener" href="https://git-scm.com/docs">Git Reference</a> </li>
<li><a target="_blank" rel="noopener" href="https://git-scm.com/book/en/v2">Pro Git Book</a></li>
</ul>

        
    </div>
    </div>

    <div class="article-badge">
        
        
    </div>

</div>

<footer class="article-footer">
    <div class="article-more-info">
    <div class="article-date">
  <time datetime="2022-04-05T09:05:20.000Z" itemprop="datePublished">2022-04-05</time>
</div>
    
        <div class="article-category">
        <a class="article-category-link" href="/categories/Git/">Git</a>
        </div>
    
    
        <div class="article-tag">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Git/" rel="tag">Git</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%B7%A5%E5%85%B7/" rel="tag">工具</a></li></ul>
        </div>
    
    </div>
</footer>

</article>

    
  
    
      <article
id="post-index"
class="article article-type-post"
>



<div class="article-inner">
    

    <div class="article-body">
    <header class="article-title">
        <a href="/2022/03/31/index/">从零开始使用GitHub+Hexo搭建个人博客</a>
    </header>
    <div class="article-entry post-inner-html">
        
        <h2 id="从零开始使用GitHub-Hexo搭建个人博客"><a href="#从零开始使用GitHub-Hexo搭建个人博客" class="headerlink" title="从零开始使用GitHub+Hexo搭建个人博客"></a>从零开始使用GitHub+Hexo搭建个人博客</h2><p>通过本文你能完成自己的个人博客搭建（无需个人主机、个人域名，免费），你的博客将拥有如下功能</p>
<ul>
<li>分类功能</li>
<li>标签功能</li>
<li>搜索功能</li>
<li>评论功能</li>
<li>数据分析</li>
<li>博文发布</li>
</ul>
<h3 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装Hexo</h3><p>提前先安装node，node中包含npm工具，具体安装node这里不做描述</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">npm</span> <span class="token function">install</span> hexo-cli -g</code></pre>

<p>安装完hexo-cli工具后，就可以开始创建博客了</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ hexo init ahern88_github_io
$ <span class="token builtin class-name">cd</span> ahern88_github_io
$ <span class="token function">npm</span> <span class="token function">install</span></code></pre>

<p>到这里博客已经初始化好，可以启动查看demo页面了，先要在本地启动hexo的server</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ hexo server
INFO  Validating config
INFO  Start processing
INFO  Hexo is running at http://localhost:4000/ <span class="token builtin class-name">.</span> Press Ctrl+C to stop.</code></pre>

<p>在浏览器中打开 <a target="_blank" rel="noopener" href="http://localhost:4000/">http://localhost:4000/</a> 就能看到默认页面了，不过可能你也发现了默认页面的主题样式并不是你喜欢的，下面我们看如何更换和安装主题。</p>
<h3 id="安装主题"><a href="#安装主题" class="headerlink" title="安装主题"></a>安装主题</h3><p>hexo内置了默认的主题，如果想更换主题，首先点击这里查看<a target="_blank" rel="noopener" href="https://hexo.io/themes/">所有主题</a>，找到所需主题的源代码或压缩包解压到themes下完成安装</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token builtin class-name">cd</span> ahern88_github_io/themes
$ <span class="token function">git</span> clone https://github.com/lh1me/hexo-theme-aomori.git</code></pre>

<p>修改默认主题，修改根目录下<code>_config.yml</code>的theme配置</p>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># Extensions</span>
<span class="token comment">## Plugins: https://hexo.io/plugins/</span>
<span class="token comment">## Themes: https://hexo.io/themes/</span>
<span class="token key atrule">theme</span><span class="token punctuation">:</span> hexo<span class="token punctuation">-</span>theme<span class="token punctuation">-</span>aomori</code></pre>

<p>完成主题安装后，通过<code>hexo server</code>重启服务查看效果</p>
<h3 id="搜索功能"><a href="#搜索功能" class="headerlink" title="搜索功能"></a>搜索功能</h3><p>搜索功能需要借助第三方商业公司algolia的search产品，数据量小搜索量不大个人项目够用，先上algolia注册个人账号</p>
<p>注册完进入管理后台后，先创建application，然后新增search功能下的index</p>
<p><img src="/images/index/image-20220401223625383.png" alt="image-20220401223625383"></p>
<p><img src="/images/index/image-20220401223708602.png" alt="image-20220401223708602"></p>
<p>在Settings中的Api Key功能模块，你能找到下面配置的相关参数<img src="/images/index/image-20220401223828657.png" alt="image-20220401223828657"></p>
<p>在根目录下<code>_config.yml</code>配置文件下新增如下信息：</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 搜索模块</span>
algolia:
  applicationID: <span class="token string">'J3Z2******'</span>
  apiKey: <span class="token string">'4eaf4c93378e153e**************'</span>
  indexName: <span class="token string">'post_index'</span>
aomori_search_algolia: <span class="token boolean">true</span></code></pre>

<p>每次发布新博文后，都需要执行如下命令生成索引信息</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token builtin class-name">export</span> <span class="token assign-left variable">HEXO_ALGOLIA_INDEXING_KEY</span><span class="token operator">=</span>4eaf4c93378e153e**************
$ hexo algolia
INFO  Validating config
INFO  <span class="token punctuation">[</span>hexo-algolia<span class="token punctuation">]</span> Testing HEXO_ALGOLIA_INDEXING_KEY permissions.
INFO  Start processing
INFO  <span class="token punctuation">[</span>hexo-algolia<span class="token punctuation">]</span> <span class="token number">3</span> records to index <span class="token punctuation">(</span>post, page<span class="token punctuation">)</span>.
INFO  <span class="token punctuation">[</span>hexo-algolia<span class="token punctuation">]</span> Indexing chunk <span class="token number">1</span> of <span class="token number">1</span> <span class="token punctuation">(</span><span class="token number">3</span> records<span class="token punctuation">)</span>
INFO  <span class="token punctuation">[</span>hexo-algolia<span class="token punctuation">]</span> Indexing done.</code></pre>

<p>这样搜索功能就安装好了~<img src="/images/index/image-20220401224102914.png" alt="image-20220401224102914"></p>
<h3 id="评论功能"><a href="#评论功能" class="headerlink" title="评论功能"></a>评论功能</h3><p>评论功能采用<a target="_blank" rel="noopener" href="https://giscus.app/">giscus</a>，这是一个天才项目，数据源存储在github（什么鬼），对github里针对项目有一个discussions的功能，giscus完全基于它来实现。</p>
<p>首先我们要创建一个github空的项目</p>
<p>然后开启discussions功能（进入工程的settings页面）<img src="/images/index/image-20220401215035374.png" alt="image-20220401215035374"></p>
<p>然后在github中安装giscus的app<img src="/images/index/image-20220401215133311.png" alt="image-20220401215133311"></p>
<p>最后修改_config.yml的配置，完成giscus的配置</p>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># 评论模块</span>
<span class="token key atrule">aomori_giscus</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">repo</span><span class="token punctuation">:</span> <span class="token string">'ahern88/giscus_repo'</span>
  <span class="token key atrule">repoId</span><span class="token punctuation">:</span> <span class="token string">'R_kgDOHGTAUg'</span>
  <span class="token key atrule">category</span><span class="token punctuation">:</span> <span class="token string">'Announcements'</span>
  <span class="token key atrule">categoryId</span><span class="token punctuation">:</span> <span class="token string">'DIC_kwDOHGTAUs4COWxa'</span>
  <span class="token key atrule">mapping</span><span class="token punctuation">:</span> <span class="token string">"pathname"</span>
  <span class="token key atrule">reactionsEnabled</span><span class="token punctuation">:</span> <span class="token number">1</span>
  <span class="token key atrule">emitMetadata</span><span class="token punctuation">:</span> <span class="token number">0</span>
  <span class="token key atrule">theme</span><span class="token punctuation">:</span> <span class="token string">'light'</span>
  <span class="token key atrule">lang</span><span class="token punctuation">:</span> <span class="token string">'zh-CN'</span>
  <span class="token key atrule">inputPosition</span><span class="token punctuation">:</span> <span class="token string">'top'</span></code></pre>

<p>里面的参数如何获取？进入<a target="_blank" rel="noopener" href="https://giscus.app/zh-CN">giscus.app</a>站点，按照操作填写资料就能获取到参数</p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">"https://giscus.app/client.js"</span>
        data<span class="token operator">-</span>repo<span class="token operator">=</span><span class="token string">"ahern88/giscus_repo"</span>
        data<span class="token operator">-</span>repo<span class="token operator">-</span>id<span class="token operator">=</span><span class="token string">"R_kgDOHGTAUg"</span>
        data<span class="token operator">-</span>category<span class="token operator">=</span><span class="token string">"Announcements"</span>
        data<span class="token operator">-</span>category<span class="token operator">-</span>id<span class="token operator">=</span><span class="token string">"DIC_kwDOHGTAUs4COWxa"</span>
        data<span class="token operator">-</span>mapping<span class="token operator">=</span><span class="token string">"pathname"</span>
        data<span class="token operator">-</span>reactions<span class="token operator">-</span>enabled<span class="token operator">=</span><span class="token string">"1"</span>
        data<span class="token operator">-</span>emit<span class="token operator">-</span>metadata<span class="token operator">=</span><span class="token string">"0"</span>
        data<span class="token operator">-</span>input<span class="token operator">-</span>position<span class="token operator">=</span><span class="token string">"bottom"</span>
        data<span class="token operator">-</span>theme<span class="token operator">=</span><span class="token string">"light"</span>
        data<span class="token operator">-</span>lang<span class="token operator">=</span><span class="token string">"zh-CN"</span>
        crossorigin<span class="token operator">=</span><span class="token string">"anonymous"</span>
        async<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></code></pre>

<h3 id="统计分析"><a href="#统计分析" class="headerlink" title="统计分析"></a>统计分析</h3><p>使用<a target="_blank" rel="noopener" href="https://tongji.baidu.com/">百度统计</a>，能帮助你将站点做的更好，让你更了解站点的流量情况。</p>
<p><code>第一步是创建站点</code><img src="/images/index/image-20220401211603347.png" alt="image-20220401211603347"></p>
<p><code>获取网站对应的key</code><img src="/images/index/image-20220401212317028.png" alt="image-20220401212317028"></p>
<p>修改blog根目录下的_config.yml信息，新增如下配置（前提是你使用的aomori主题）</p>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># 百度统计</span>
<span class="token key atrule">aomori_baidu_analytics</span><span class="token punctuation">:</span> <span class="token string">'f6e09ac3389fb861bbfa7bbceb2a5698'</span></code></pre>

<p>到这里，统计模块就已完成，上线后查看统计分析信息</p>
<h3 id="写博客推荐的工具与问题"><a href="#写博客推荐的工具与问题" class="headerlink" title="写博客推荐的工具与问题"></a>写博客推荐的工具与问题</h3><p>如何方便的做图片维护与管理？</p>
<p>有比较多的方式，比如使用Typora+iPic实现，但有一个风险，万一iPic服务器收费了或挂了，或许你的图片一去不复返了，最简单的方式是将图片存储在GitHub中，这样免费也省事，配合Typora工具目前真的是天衣无缝。</p>
<p>先在blog工程source目录下创建images文件夹，如下：</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token builtin class-name">cd</span> ahern88_github_io/source
$ <span class="token function">mkdir</span> images</code></pre>

<p>配置Typora工具，将粘贴过来的图片自动上传到该目录下<img src="/images/index/image-20220401220730452.png" alt="image-20220401220730452"></p>
<p><img src="/images/index/image-20220401220806426.png" alt="image-20220401220806426"></p>
<p><img src="/images/index/image-20220401220917089.png" alt="image-20220401220917089"></p>
<p>这样，直接从剪贴板粘贴过来的图片会自动生成到images文件夹中，而images文件夹会被hexo打包至web项目的根目录下，通过&#x2F;images&#x2F;xxx.png就能直接访问到，非常完美。</p>
<h3 id="发布博文"><a href="#发布博文" class="headerlink" title="发布博文"></a>发布博文</h3><p>最好将博客的源文件存放在github上维护，这样每一步操作都有记录，而且数据不会丢，先在github中创建ahern88_github_io项目</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token builtin class-name">cd</span> ahern88_github_io
$ <span class="token function">git</span> init
$ <span class="token function">git</span> remote <span class="token function">add</span> origin https://github.com/ahern88/ahern88_github_io.git
$ <span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span>
$ <span class="token function">git</span> commit -m <span class="token string">'init blog'</span>
$ <span class="token function">git</span> push -u origin main</code></pre>

<p>创建文章</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token builtin class-name">cd</span> ahern88_github_io
$ hexo new post helloworld <span class="token comment">#这里会在source/_posts下创建helloworld.md文件，你的博文就写在该markdown中</span></code></pre>

<p>创建网站的github工程ahern88.github.io，并做Pages设置<img src="/images/index/image-20220401222310232.png" alt="image-20220401222310232"></p>
<p>web网站仓库设置完之后，要将hexo工程的deploy信息指向ahern88.github.io工程，修改_config.yml配置</p>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># Deployment</span>
<span class="token comment">## Docs: https://hexo.io/docs/one-command-deployment</span>
<span class="token key atrule">deploy</span><span class="token punctuation">:</span>
  <span class="token key atrule">type</span><span class="token punctuation">:</span> <span class="token string">'git'</span>
  <span class="token key atrule">repo</span><span class="token punctuation">:</span> <span class="token string">'git@github.com:ahern88/ahern88.github.io.git'</span>
  <span class="token key atrule">branch</span><span class="token punctuation">:</span> master</code></pre>

<p>确保当前客户端的ssh key在github中有配置，不然deploy会出错</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ hexo clean <span class="token comment"># 清除数据等信息，防止内容发布不上去</span>
INFO  Validating config
INFO  Deleted database.
$ hexo algolia <span class="token comment"># 更新搜索索引信息</span>
$ hexo deploy
INFO  Validating config
INFO  Start processing
INFO  Files loaded <span class="token keyword">in</span> <span class="token number">144</span> ms
INFO  Generated: collection/index.html
INFO  Generated: <span class="token number">2022</span>/03/31/index/index.html
INFO  Generated: dist/custom.js
INFO  Generated: assets/algolia/algoliasearch.js
INFO  Generated: images/index/image-20220401005713496.png
INFO  <span class="token number">50</span> files generated <span class="token keyword">in</span> <span class="token number">80</span> ms
INFO  Deploying: <span class="token function">git</span>
INFO  Clearing .deploy_git folder<span class="token punctuation">..</span>.
INFO  Copying files from public folder<span class="token punctuation">..</span>.
INFO  Copying files from extend dirs<span class="token punctuation">..</span>.
<span class="token punctuation">[</span>master a8df122<span class="token punctuation">]</span> Site updated: <span class="token number">2022</span>-04-01 02:19:08
 <span class="token number">4</span> files changed, <span class="token number">58</span> insertions<span class="token punctuation">(</span>+<span class="token punctuation">)</span>, <span class="token number">8</span> deletions<span class="token punctuation">(</span>-<span class="token punctuation">)</span>
Enumerating objects: <span class="token number">23</span>, done.
Counting objects: <span class="token number">100</span>% <span class="token punctuation">(</span><span class="token number">23</span>/23<span class="token punctuation">)</span>, done.
Delta compression using up to <span class="token number">4</span> threads
Compressing objects: <span class="token number">100</span>% <span class="token punctuation">(</span><span class="token number">6</span>/6<span class="token punctuation">)</span>, done.
Writing objects: <span class="token number">100</span>% <span class="token punctuation">(</span><span class="token number">12</span>/12<span class="token punctuation">)</span>, <span class="token number">2.05</span> KiB <span class="token operator">|</span> <span class="token number">1.03</span> MiB/s, done.
Total <span class="token number">12</span> <span class="token punctuation">(</span>delta <span class="token number">5</span><span class="token punctuation">)</span>, reused <span class="token number">0</span> <span class="token punctuation">(</span>delta <span class="token number">0</span><span class="token punctuation">)</span>, pack-reused <span class="token number">0</span>
remote: Resolving deltas: <span class="token number">100</span>% <span class="token punctuation">(</span><span class="token number">5</span>/5<span class="token punctuation">)</span>, completed with <span class="token number">4</span> <span class="token builtin class-name">local</span> objects.
To github.com:ahern88/ahern88.github.io.git
   56ef0d2<span class="token punctuation">..</span>a8df122  HEAD -<span class="token operator">></span> master
Branch <span class="token string">'master'</span> <span class="token builtin class-name">set</span> up to track remote branch <span class="token string">'master'</span> from <span class="token string">'git@github.com:ahern88/ahern88.github.io.git'</span><span class="token builtin class-name">.</span></code></pre>

<p>这样你的博文就发布上去了，发布完成后会有2分钟左右的缓存，等过几分钟刷新查看效果。</p>
<h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><ul>
<li>Hexo官方网站 <a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/">https://hexo.io/zh-cn/</a></li>
<li>Giscus官方站点 <a target="_blank" rel="noopener" href="https://giscus.app/zh-CN">https://giscus.app/zh-CN</a></li>
</ul>

        
    </div>
    </div>

    <div class="article-badge">
        
        
    </div>

</div>

<footer class="article-footer">
    <div class="article-more-info">
    <div class="article-date">
  <time datetime="2022-03-31T15:59:09.000Z" itemprop="datePublished">2022-03-31</time>
</div>
    
        <div class="article-category">
        <a class="article-category-link" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a>
        </div>
    
    
        <div class="article-tag">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a></li></ul>
        </div>
    
    </div>
</footer>

</article>

    
  

  
</div>

                </section>
            </section>

            
            <aside class="sidebar sidebar-search-fix">
                

    <div class="search">
    <div class="has-icon-right">
        <input type="text" class="form-input" id="search" placeholder="SEARCH" autocomplete="off">
        <div class="form-icon">
            <box-icon name='search' color="#3c4859"></box-icon>
        </div>
    </div>
    <div class="search-result" id="search-ps"></div>
</div>


<div class="widget" id="widget">
    
      
    
      
  <div class="widget-wrap widget-cate">
    <div class="widget-title"><span>Categories</span></div>
    <div class="widget-inner">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/C%E8%AF%AD%E8%A8%80/">C语言</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Git/">Git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a></li></ul>
    </div>
  </div>


    
      
  <div class="widget-wrap widget-tags">
    <div class="widget-title"><span>Tags</span></div>
    <div class="widget-inner">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/C%E8%AF%AD%E8%A8%80/" rel="tag">C语言</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GDB/" rel="tag">GDB</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/" rel="tag">Git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B7%A5%E5%85%B7/" rel="tag">工具</a></li></ul>
    </div>
  </div>


    
      
  <div class="widget-wrap widget-recent-posts">
    <div class="widget-title"><span>Recent Posts</span></div>
    <div class="widget-inner">
      <ul>
        
          <li>
            <a href="/2022/04/09/run-gdb-on-macos/">在MacOS上使用GDB调试C程序</a>
          </li>
        
          <li>
            <a href="/2022/04/05/git-in-depth-study/">一文深入浅出学习Git工具</a>
          </li>
        
          <li>
            <a href="/2022/03/31/index/">从零开始使用GitHub+Hexo搭建个人博客</a>
          </li>
        
      </ul>
    </div>
  </div>

    
</div>

<div id="backtop"><i class="icon icon-arrow-up"></i></div>
            </aside>
            
        </div>
    </div>

    <footer class="footer">
    <div class="footer-wave">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="#3c4859" fill-opacity="1" d="M0,160L60,181.3C120,203,240,245,360,240C480,235,600,181,720,186.7C840,192,960,256,1080,261.3C1200,267,1320,213,1380,186.7L1440,160L1440,320L1380,320C1320,320,1200,320,1080,320C960,320,840,320,720,320C600,320,480,320,360,320C240,320,120,320,60,320L0,320Z"></path></svg>
    </div>

    <!-- Please do not remove this -->
    <!-- 开源不易，请勿删除 -->
    <div class="footer-wrap">
        <div class="footer-inner"> 
            ahern88的技术小站 &copy; 2022<br>
            Powered By Hexo · Theme By <a href="https://linhong.me/" target="_blank">Aomori</a> · <a href="https://github.com/lh1me/hexo-theme-aomori" target="_blank">Github</a>
        </div>
    </div>

</footer>






<script src="/dist/build.js?1646451311888.js"></script>


<script src="/dist/custom.js?1646451311888.js"></script>












<!-- Baidu Analytics-->
<script type="text/javascript">
    var _hmt = _hmt || [];
    (function () {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?f6e09ac3389fb861bbfa7bbceb2a5698";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>


</body>

</html>